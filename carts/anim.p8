pico-8 cartridge // http://www.pico-8.com
version 18
__lua__

left,right,up,down,fire1,fire2=0,1,2,3,4,5
black,dark_blue,dark_purple,dark_green,brown,dark_gray,light_gray,white,red,orange,yellow,green,blue,indigo,pink,peach=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15

player = {
    x = 128/2;
    y = 128/2;
    frame = 0;
    loopdir = 1;
    delay = 0;
    famelock = false;
    draw = function(self)
        if(self.direction == fire1) then
            if(self.delay % 5 == 0) then
                self.frame += 1
            end
            return
        end
        facing = 6
        if(self.direction < 6) then 
            facing = 1 
            if(self.direction == up or self.direction == down) then
                facing = self.direction
            end
        end
        spr((16*self.frame) + facing,self.x,self.y,1,1,self.direction == left)
        if(self.delay % 5 == 0) then 
            self.frame = self.frame + self.loopdir 
        end
        if(self.frame == 2) then 
            self.loopdir = -1
        end
        if(self.frame == 0) then
            self.loopdir = 1
        end
        self.delay = self.delay + 1
    end;
    startAttack = function(self) 
        self.frame = 0;
        self.framelock = true;
        self.direction = fire1;
    end;
    move = function(self, direction, x, y) 
        self.direction = direction
        self.x += x
        self.y += y
    end;
}

function _init()

end

function _update60()
    player.direction = 6
    if (btn(left)) then 
        player:move(left, -0.5, 0)
    end
    if (btn(right)) then 
        player:move(right, 0.5, 0)
    end
    if (btn(up)) then 
        player:move(up, 0, -0.5)
    end
    if (btn(down)) then 
        player:move(down, 0, 0.5)
    end
    if(btn(fire1)) then
        player:startAttack()
    end
end

function _draw()
    rectfill(0,0,128,128,dark_purple)
    player:draw()
end

__gfx__
00000000000044000000440000004400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00088000004444000044440000444400000000000000000000444400000000000000000000000000000000000000000000000000000000000000000000000000
00944f0000443f00004444000043f30000000000000000000043f300000000000000000000000000000000000000000000000000000000000000000000000000
0a3772e000ffff0000ffff0000ffff00000000000000000000ffff00000000000000000000000000000000000000000000000000000000000000000000000000
0a3772e00f1111f0001111f0001111f0000000000000000000111100000000000000000000000000000000000000000000000000000000000000000000000000
00b11d00005555d0005555000055550000000000000000000f5555f0000000000000000000000000000000000000000000000000000000000000000000000000
000cc0000d0000000f0005000f500500000000000000000000d00d00000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000d0000000d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000044000000440000004400000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000
00000000004444000044440000444400000000000000000000444400000000000000000000000000000000000000000000000000000000000000000000000000
0000000000443f00004444000043f30000000000000000000043f300000000000000000000000000000000000000000000000000000000000000000000000000
0000000000ffff0000ffff0000ffff00000000000000000000ffff00000000000000000000000000000000000000000000000000000000000000000000000000
00000000001111000011110000111100000000000000000000111100000000000000000000000000000000000000000000000000000000000000000000000000
000000000f5555f00f5555f00f5555f000000000000000000f5555f0000000000000000000000000000000000000000000000000000000000000000000000000
0000000000d00d0000d00d0000d00d00000000000000000000d00d00000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000044000000440000004400000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000
00000000004444000044440000444400000000000000000000444400000000000000000000000000000000000000000000000000000000000000000000000000
0000000000443f00004444000043f30000000000000000000043f300000000000000000000000000000000000000000000000000000000000000000000000000
0000000000ffff0000ffff0000ffff00000000000000000000ffff00000000000000000000000000000000000000000000000000000000000000000000000000
00000000001111000f1111000f111100000000000000000000111100000000000000000000000000000000000000000000000000000000000000000000000000
0000000000f55500005555000055550000000000000000000f5555f0000000000000000000000000000000000000000000000000000000000000000000000000
00000000000dd000005000f0005000f0000000000000000000d00d00000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000d0000000d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111111111111111111110001011110100010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11101010101010101010101101000101101000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
10110101010101010101011100100011110001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11010000000000000000110100010101101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
10101000000000000001001110001101101100010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11000111111111111110010101011110111110100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
10100111111111111110001110100111111001010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11000111111111111110010111111111110111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
10100111111111111110001111111011111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11000111111111111110010110100111111001010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
10100111116116111110001101011111011110100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11000111111111111110010110001101101100010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
10100111116116111110001100010101101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11000111111661111110010100100011110001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
10100111111111111110001101000101101000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11000111111111111110010110001011110100010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
10100111111111111110001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11000111111111111110010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
10100111111111111110001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11001000000000000001010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
10110000000000000000101100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11101010101010101010110100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11010101010101010101011100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11111111111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000404141414141414200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000505151515151515200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000505154616153515200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000505152404143514441420000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000505152505151515151520000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000505144435151515151520000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000505151515151515151520000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000606161535151515151520000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000606161616161620000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
